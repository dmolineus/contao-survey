!function(){"use strict";window;var t=function(){function t(t){var e=this;this.sourceAttribute="data-state",this.targetAttribute="data-js-record-source",this.onMutationsCallback=function(t){t.forEach((function(t){if("attributes"===t.type&&e.sourceAttribute===t.attributeName){var n=t.target,r=e.findTargetElement(n);if(null===r)return;var i=n.getAttribute(e.sourceAttribute);fetch(r.getAttribute(e.targetAttribute)+"?state="+i).then((function(t){return t.text()})).then((function(t){r.innerHTML=t}))}}))},this.container=t}return t.prototype.watch=function(){new MutationObserver(this.onMutationsCallback).observe(this.container,{attributes:!0,subtree:!0})},t.prototype.findTargetElement=function(t){for(var e=t;null!==(e=e.parentElement);){if(this.container===e)return null;var n=e.querySelector("*["+this.targetAttribute+"]");if(null!==n)return n}return null},t}();document.addEventListener("DOMContentLoaded",(function(){var e;null!==(e=document.querySelector(".tl_listing_container"))&&new t(e).watch()}))}();
